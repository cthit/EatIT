<head>
  <title>EatIT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <h1>EatIT!</h1>
  {{#if error}}
    No session for this id, <a href="/">create new?</a>
  {{else}}
  Share this link with your friends: <a href="{{url}}">{{url}}</a>
  <ul class="pizzas">
    {{#each items}}
      {{> pizza}}
    {{/each}}
  </ul>

  {{#unless timer_started}}
  <form class="new-pizza">
    <input type="text" name="pizza" placeholder="Order" value="">
    <input type="text" name="nick" placeholder="Nick" value="">
    <!-- <input type="text" name="comment" placeholder="Kommentar"> -->
    <button>+</button>
  </form>
  {{/unless}}
  {{> timer}}
  <div id="ytplayer"></div>
  <audio id="audio" preload="auto" src="https://cdn.rawgit.com/tholman/elevator.js/da89ba613b75c3712a459302681270aa17d8b0f8/demo/music/ding.mp3"></audio>
  <script>
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('ytplayer', {
          height: '390',
          width: '640',
          videoId: 'ZcJjMnHoIBI'
        });
        document.getElementById('ytplayer').style.display = 'none';
      }
  </script>
  {{/if}}
</body>
<template name="pizza">
	<li class="pizza-item">
		{{length}} <span class="name" data-name="{{name}}">{{name}}</span>
		{{#each this}}
			<small data-id="{{id}}" class="{{classname}}">{{nick}}</small>
		{{/each}}
	</li>
</template>
<template name="timer">
	{{#if timer_started}}
		<span class="timer">{{display_time}}</span>
	{{else}}
		<form class="start-timer">
			<input type="integer" name="minutes" placeholder="Minutes" />
			<button>Start</button>
		</form>
	{{/if}}
</template>
